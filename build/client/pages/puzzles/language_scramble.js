// Generated by CoffeeScript 1.3.1
var soma, wings;

soma = require('soma');

wings = require('wings');

soma.chunks({
  LanguageScramble: {
    meta: function() {
      return new soma.chunks.Base({
        content: this
      });
    },
    prepare: function(_arg) {
      this.levelName = _arg.levelName;
      this.template = this.loadTemplate('/build/client/templates/puzzles/language_scramble.html');
      this.loadScript('/build/client/pages/puzzles/language_scramble.js');
      this.loadScript('/build/client/pages/puzzles/lib/language_scramble.js');
      return this.loadStylesheet('/build/client/css/puzzles/language_scramble.css');
    },
    build: function() {
      var languageScramble;
      languageScramble = require('./lib/language_scramble');
      this.chunkHelper = new languageScramble.ChunkHelper(this.levelName);
      return this.html = wings.renderTemplate(this.template, {
        title: this.chunkHelper.level.title,
        subtitle: this.chunkHelper.level.subtitle,
        data: this.chunkHelper.level.data,
        levelName: this.levelName,
        allLevels: this.chunkHelper.allLevels()
      });
    }
  }
});

soma.views({
  LanguageScramble: {
    selector: '#content .language_scramble',
    create: function() {
      var languageScramble;
      languageScramble = require('./lib/language_scramble');
      this.viewHelper = new languageScramble.ViewHelper(this.selector, {});
      this.viewHelper.positionTitle();
      return this.viewHelper.bindWindow();
    }
  }
});

soma.routes({
  '/puzzles/language_scramble': function() {
    return new soma.chunks.LanguageScramble({
      levelName: 'top10words'
    });
  }
});
