// Generated by CoffeeScript 1.3.3
var goal;

goal = typeof exports !== "undefined" && exports !== null ? exports : provide('./goal', {});

goal.Goal = (function() {

  Goal.prototype.offset = 90;

  function Goal(_arg) {
    this.paper = _arg.paper, this.radius = _arg.radius;
    this.init();
  }

  Goal.prototype.init = function() {
    return this.draw();
  };

  Goal.prototype.draw = function() {
    this.image = this.paper.set();
    this.centerX = (this.paper.width - this.offset) / 2;
    this.centerY = this.paper.height / 2;
    this.circle = this.paper.circle(this.centerX, this.centerY, this.radius);
    this.circle.attr({
      fill: 'white'
    });
    this.image.push(this.circle);
    this.lineFrom(60);
    this.lineFrom(120);
    return this.image.toBack();
  };

  Goal.prototype.lineFrom = function(angle) {
    var distance, line, startX, startY, units, yUnit;
    yUnit = 1 / (Math.tan(angle * Math.PI / 180));
    distance = Math.sqrt(Math.pow(yUnit, 2) + 1);
    units = this.radius / distance;
    startX = this.centerX + units;
    startY = this.centerY + (units * yUnit);
    line = this.paper.path("M" + startX + "," + startY + "\nL" + (this.centerX + this.radius + this.offset) + "," + this.centerY);
    return this.image.push(line);
  };

  return Goal;

})();
