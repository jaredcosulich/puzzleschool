// Generated by CoffeeScript 1.3.3
var ObjectEditor, game;

game = typeof exports !== "undefined" && exports !== null ? exports : provide('./game', {});

ObjectEditor = require('./object_editor').ObjectEditor;

game.Game = (function() {

  Game.prototype.$ = function(selector) {
    return $(selector, this.el);
  };

  function Game(_arg) {
    this.el = _arg.el, this.objectEditor = _arg.objectEditor, this.showExplicitContent = _arg.showExplicitContent;
    this.initBoard();
  }

  Game.prototype.initBoard = function() {
    var dimensions;
    this.board = this.$('.board');
    dimensions = this.board.offset();
    return this.paper = Raphael(dimensions.left, dimensions.top, dimensions.width, dimensions.height);
  };

  Game.prototype.addObject = function(data) {
    var _this = this;
    data.paper = this.paper;
    data.id = this.nextId();
    data.objectEditor = this.objectEditor;
    data.setProperty = function(property, value) {
      return _this.$(".properties ." + property).html("" + value);
    };
    data.showExplicitContent = function(content) {
      return _this.showExplicitContent(content);
    };
    return new neurobehav[data.type](data);
  };

  Game.prototype.nextId = function() {
    return this.currentId = (this.currentId || 0) + 1;
  };

  return Game;

})();
