{:editor}
    <a class='toggle_instructions'>Hide Instructions</a>
    <div class='demo_video modal'>
        <iframe width="640" height="360" src="http://www.youtube.com/embed/O48Ia71RYX0?rel=0" frameborder="0" allowfullscreen></iframe>
    </div>    
{/editor}
    
{:editor}
<div class='instructions'>
    <div class='container'>

        <h3>XYFlyer Editor Instructions</h3>
        <div class='section'>
            <h4 class='centered'>Valid Functions & Constants</h4>
            <div style='padding-left: 21px'>
                <ul>
                    <li>sin()</li>
                    <li>cos()</li>
                    <li>tan()</li>
                    <li>round()</li>
                    <li>sqrt()</li>
                    <li>abs()</li>
                </ul>
                <ul>
                    <li>ln()</li>
                    <li>atan()</li>
                    <li>acos()</li>
                    <li>asin()</li>
                    <li>pi</li>
                    <li>e</li>
                </ul>
            </div>
            <div class='centered' style='clear: both;'><b>Valid Variables: </b>a, b, c, d</div>
        </div>
        <div class='section centered'>
            <h4>Instructional Video</h4>
            <a class='demo'><img src='/assets/images/puzzles/xyflyer/editor_demo_video.jpg'></a>
        </div>
        <div style='width: 390px;'>
            <p>This editor allows you to create custom XYFlyer levels.</p>
            <p>We recommend using no more than 2 equations and 6 equation fragments as your level will become very challenging very fast.</p>
            <p>A link will be provided to share your level as soon as it is verified (you've launched the plane through all rings in the level, at least one).</p>
            <p>Watch the <a class='demo'>demo video</a> to see a level being created.</p>
        </div>
    </div>
</div>
{/editor}


<div class='xyflyer' data-level={level} data-class={class} data-classlevel={classLevel} data-puzzle_data={puzzleData}>
    <div class='dynamic_content' {:noBackground}style="background-image: url('/assets/images/puzzles/xyflyer/background1.jpg')"{!noBackground}>
        <div class='board' id='board'></div>
        <div class='equation_area'>
            <div class='menu'><a class='blue_button'>Menu</a></div>
            <h2>XYFlyer</h2>

            
            <div class='equations'>
                <h4>Equations</h4>
            </div>
            <div class='launch_button'><a class='launch button go'>Launch!</a></div>
        
            <div class='possible_fragments'>
                {!editor}
                <h4>Equation Fragments</h4>
                <p>Drag these equation fragments and drop them in the equation above.</p>
                {/editor}
            </div>

            {:editor}
                <div class='editor_instructions'>    
                    <h4>Editor Instructions</h4>
                    <div class='invalid'>
                        <p>
                            Create your level and launch the plane to verify your level.
                        </p>
                        <p>
                            Once verified, instructions to share your level will appear here.
                        </p>
                    </div>
                    <div class='valid'>
                        <p>Share this link to have other people try to solve your level.</p>
                        <input class='link'/>
                    </div>
                </div>
            {/editor}

            {!editor}
            <div class='hints'>
                <h4>
                    Can't Figure It Out?
                    <a class='hint blue_button'>Reveal A Step</a>
                </h4> 
                <div class='drag_this'>
                    <img src='/assets/images/puzzles/xyflyer/drag_this.png'/>
                </div>
                <div class='drop_here'>
                    <img src='/assets/images/puzzles/xyflyer/drop_here.png'/>
                </div>
                <div class='launch_hint'>
                    <img src='/assets/images/puzzles/xyflyer/launch.png'/>
                </div>
            </div>
            {/editor}
            
        </div>
        <div class='level_instructions'>
            {instructions}
        </div>

        {:editor}
        <div class='editor'>
            <h3>Editor Controls</h3>
            <div class='buttons'>
                <p><a class='blue_button add_equation'>Add Equation</a> --- <a class='red_button remove_equation'>Remove</a></p>
                <p><a class='blue_button add_fragment'>Add Equation Fragment</a> --- <a class='red_button remove_fragment red'>Remove</a></p>
                <p><a class='blue_button add_ring'>Add Ring</a> --- <a class='red_button remove_ring'>Remove</a></p>
                <p><a class='blue_button change_background'>Change Background</a> --- <a class='blue_button edit_board'>Edit Board Dimensions</a></p>
                <p><a class='blue_button change_island'>Change Island</a> --- <a class='blue_button edit_island'>Edit Island Position</a></p>
                <p><a class='blue_button change_person'>Change Person</a>
                <p><a class='red_button reset_editor'>Reset Editor</a></p>
            </div>
        </div>
        {/editor}
    </div>

    <div class='intro_message'>
        <h2>Welcome To XYFlyer</h2>
        <br/>
        <p>XYFlyer allows you to explore equations and graphing by solving various puzzles.</p>
        <p>Fly a remote controlled airplane through hoops using equations to chart the airplane's path.</p>
        <br/>
        <h4>5 Worlds Of Challenge</h4>
        <p>We've got 5 worlds filled with 200 levels of graphing challenges.</p>
        <p>If you want to try creating your own levels, check out the <a href='/puzzles/xyflyer/editor'>Level Editor</a>.</p>
        <br/>
        <a class='button go'>Play</a>
    </div>
        
    <div class='level_selector'>
        <h3 class='success'>Nice Work. Level Complete!</h3>
        <h3>Select The Next Level</h3>
        <div class='world_links'>
            {:worlds}
            <div class='world_link' data-world={index}>
                <img src='/assets/images/puzzles/xyflyer/world{index}.png'/>
            </div>
            {/worlds}
        </div>
        {:worlds}
        <div class='world'>
            {:stages}
            <div class='stage'>
                <h4>{name}</h4>
                <br/>
                {:levels}<a class='level' id='level_{id}' data-id={id}></a>{/levels}
            </div>
            {/stages}
        </div>
        {/worlds}
    </div>
    
    <div class='objects'>
        {:objects}<div class='{name}'>{&image}</div>{/objects}
    </div>
    
</div>